{"ast":null,"code":"// src/components/BookPriceTracker.js\nimport React,{useState}from'react';import BookTable from'./BookTable';import SaveButton from'./SaveButton';import TotalDisplay from'./TotalDisplay';import{booksData}from'../data/books';import{formatCurrency}from'../utils/currency';import'./BookPriceTracker.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookPriceTracker=()=>{const[books,setBooks]=useState(booksData.map((book,index)=>({...book,id:index,price:''})));const[isSaved,setIsSaved]=useState(false);const[showTotal,setShowTotal]=useState(false);const[total,setTotal]=useState(0);const handlePriceChange=(id,value)=>{const numValue=parseFloat(value);if(value!==''&&(isNaN(numValue)||numValue<0)){return;}setBooks(books.map(book=>book.id===id?{...book,price:value}:book));};const handleDeleteBook=id=>{// Confirm before deleting\nconst bookToDelete=books.find(book=>book.id===id);const confirmDelete=window.confirm(`Are you sure you want to delete \"${bookToDelete.title}\"?`);if(confirmDelete){setBooks(books.filter(book=>book.id!==id));// If we've already saved, recalculate the total\nif(isSaved){const newBooks=books.filter(book=>book.id!==id);let newTotal=0;newBooks.forEach(book=>{const price=parseFloat(book.price)||0;newTotal+=price;});newTotal=Math.round(newTotal*100)/100;setTotal(newTotal);}}};const handleSave=()=>{let calculatedTotal=0;books.forEach(book=>{const price=parseFloat(book.price)||0;calculatedTotal+=price;});calculatedTotal=Math.round(calculatedTotal*100)/100;setTotal(calculatedTotal);setShowTotal(true);setIsSaved(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"book-price-tracker\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Book Price Tracker\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"books-count\",children:[\"Total Books: \",books.length]}),/*#__PURE__*/_jsx(BookTable,{books:books,onPriceChange:handlePriceChange,onDeleteBook:handleDeleteBook,disabled:isSaved}),/*#__PURE__*/_jsx(\"div\",{className:\"action-section\",children:/*#__PURE__*/_jsx(SaveButton,{onClick:handleSave,disabled:isSaved})}),showTotal&&/*#__PURE__*/_jsx(TotalDisplay,{total:total,formatCurrency:formatCurrency}),isSaved&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:/*#__PURE__*/_jsx(\"div\",{className:\"status status--success\",children:\"\\u2713 Prices saved successfully!\"})})]})});};export default BookPriceTracker;","map":{"version":3,"names":["React","useState","BookTable","SaveButton","TotalDisplay","booksData","formatCurrency","jsx","_jsx","jsxs","_jsxs","BookPriceTracker","books","setBooks","map","book","index","id","price","isSaved","setIsSaved","showTotal","setShowTotal","total","setTotal","handlePriceChange","value","numValue","parseFloat","isNaN","handleDeleteBook","bookToDelete","find","confirmDelete","window","confirm","title","filter","newBooks","newTotal","forEach","Math","round","handleSave","calculatedTotal","className","children","length","onPriceChange","onDeleteBook","disabled","onClick"],"sources":["/Users/reva/iProjects/book-price-tracker/src/components/BookPriceTracker.js"],"sourcesContent":["// src/components/BookPriceTracker.js\nimport React, { useState } from 'react';\nimport BookTable from './BookTable';\nimport SaveButton from './SaveButton';\nimport TotalDisplay from './TotalDisplay';\nimport { booksData } from '../data/books';\nimport { formatCurrency } from '../utils/currency';\nimport './BookPriceTracker.css';\n\nconst BookPriceTracker = () => {\n    const [books, setBooks] = useState(\n        booksData.map((book, index) => ({\n            ...book,\n            id: index,\n            price: ''\n        }))\n    );\n    const [isSaved, setIsSaved] = useState(false);\n    const [showTotal, setShowTotal] = useState(false);\n    const [total, setTotal] = useState(0);\n\n    const handlePriceChange = (id, value) => {\n        const numValue = parseFloat(value);\n        if (value !== '' && (isNaN(numValue) || numValue < 0)) {\n            return;\n        }\n\n        setBooks(books.map(book =>\n            book.id === id ? { ...book, price: value } : book\n        ));\n    };\n\n    const handleDeleteBook = (id) => {\n        // Confirm before deleting\n        const bookToDelete = books.find(book => book.id === id);\n        const confirmDelete = window.confirm(\n            `Are you sure you want to delete \"${bookToDelete.title}\"?`\n        );\n\n        if (confirmDelete) {\n            setBooks(books.filter(book => book.id !== id));\n\n            // If we've already saved, recalculate the total\n            if (isSaved) {\n                const newBooks = books.filter(book => book.id !== id);\n                let newTotal = 0;\n                newBooks.forEach(book => {\n                    const price = parseFloat(book.price) || 0;\n                    newTotal += price;\n                });\n                newTotal = Math.round(newTotal * 100) / 100;\n                setTotal(newTotal);\n            }\n        }\n    };\n\n    const handleSave = () => {\n        let calculatedTotal = 0;\n\n        books.forEach(book => {\n            const price = parseFloat(book.price) || 0;\n            calculatedTotal += price;\n        });\n\n        calculatedTotal = Math.round(calculatedTotal * 100) / 100;\n\n        setTotal(calculatedTotal);\n        setShowTotal(true);\n        setIsSaved(true);\n    };\n\n    return (\n        <div className=\"book-price-tracker\">\n            <div className=\"container\">\n                <h1 className=\"page-title\">Book Price Tracker</h1>\n\n                <div className=\"books-count\">\n                    Total Books: {books.length}\n                </div>\n\n                <BookTable\n                    books={books}\n                    onPriceChange={handlePriceChange}\n                    onDeleteBook={handleDeleteBook}\n                    disabled={isSaved}\n                />\n\n                <div className=\"action-section\">\n                    <SaveButton onClick={handleSave} disabled={isSaved} />\n                </div>\n\n                {showTotal && (\n                    <TotalDisplay total={total} formatCurrency={formatCurrency} />\n                )}\n\n                {isSaved && (\n                    <div className=\"success-message\">\n                        <div className=\"status status--success\">\n                            âœ“ Prices saved successfully!\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default BookPriceTracker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}